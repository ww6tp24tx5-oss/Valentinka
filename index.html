<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–ª—è –ê–ª–∏–Ω—ã ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@1,400;1,700&family=Montserrat:wght@300;600;900&display=swap" rel="stylesheet">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è iPhone */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background-color: #fffafa;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–∞–¥–∞—é—â–∏–µ –ª–µ–ø–µ—Å—Ç–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ */
        .petal {
            position: fixed;
            top: -10%;
            z-index: 100;
            user-select: none;
            pointer-events: none;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        /* –≠–∫—Ä–∞–Ω 1: –ö–æ–Ω–≤–µ—Ä—Ç */
        #screen-env {
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            height: 100vh; text-align: center;
            transition: opacity 0.8s ease;
        }

        .envelope-wrapper {
            position: relative;
            width: 300px; height: 200px;
            perspective: 1200px;
            cursor: pointer;
        }

        .envelope {
            position: relative;
            width: 100%; height: 100%;
            background: #d92d3a;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 30px 60px rgba(225, 29, 72, 0.3);
        }

        .flap {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #e63946;
            clip-path: polygon(0 0, 50% 65%, 100% 0);
            z-index: 3;
            transform-origin: top;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .envelope.open .flap { transform: rotateX(180deg); z-index: 1; }

        .pocket {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #f14d5a;
            clip-path: polygon(0 100%, 50% 45%, 100% 100%);
            z-index: 2;
            border-radius: 0 0 20px 20px;
        }

        .seal {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -40%);
            width: 70px; height: 70px;
            background: white;
            border-radius: 50%;
            z-index: 10;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -40%) scale(1); }
            50% { transform: translate(-50%, -40%) scale(1.1); }
        }

        /* –≠–∫—Ä–∞–Ω 2: –ü–∏—Å—å–º–æ */
        #screen-letter {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
            flex-direction: column;
            align-items: center;
        }

        .paper {
            background: #fdfbf7;
            width: 100%;
            max-width: 850px;
            padding: 70px 40px;
            box-shadow: 0 20px 80px rgba(0,0,0,0.08);
            border-left: 15px solid #fecdd3;
            animation: slideIn 1s ease-out;
            position: relative;
        }

        @keyframes slideIn {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .letter-content {
            font-family: 'EB Garamond', serif;
            font-size: 1.7rem;
            line-height: 1.7;
            color: #2d2d2d;
            font-style: italic;
            white-space: pre-wrap;
        }

        /* "–ü–∞—Ä—è—â–∞—è" –∫–Ω–æ–ø–∫–∞ —Å—é—Ä–ø—Ä–∏–∑–∞ */
        .btn-surprise {
            background: linear-gradient(45deg, #e11d48, #ff4d6d);
            color: white; border: none;
            padding: 22px 40px;
            border-radius: 100px;
            font-weight: 700; font-size: 1.3rem;
            width: 100%; margin-top: 60px;
            cursor: pointer;
            box-shadow: 0 15px 35px rgba(225,29,72,0.4);
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: floatBtn 3s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        @keyframes floatBtn {
            0%, 100% { transform: translateY(0) scale(1); box-shadow: 0 15px 35px rgba(225,29,72,0.4); }
            50% { transform: translateY(-10px) scale(1.02); box-shadow: 0 25px 50px rgba(225,29,72,0.5); }
        }

        /* –≠–∫—Ä–∞–Ω 3: –§–∏–Ω–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å */
        #screen-final {
            display: none;
            height: 100vh;
            flex-direction: column;
            align-items: center; justify-content: center;
            text-align: center;
            background: white;
            padding: 20px;
            overflow: hidden;
        }

        .final-title { color: #e11d48; font-size: 4.5rem; margin: 0; font-weight: 900; }
        
        .btn-container {
            margin-top: 60px;
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            width: 100%;
            position: relative;
        }

        .btn-yes {
            padding: 20px 60px;
            background: #e11d48;
            color: white; border: none;
            border-radius: 50px; font-size: 1.6rem; font-weight: 900;
            box-shadow: 0 10px 25px rgba(225,29,72,0.3);
            cursor: pointer;
            z-index: 10;
            transition: transform 0.1s;
        }

        .btn-yes:active { transform: scale(0.9); }

        .btn-no {
            padding: 20px 60px;
            background: #f1f5f9;
            color: #94a3b8; border: none;
            border-radius: 50px; font-size: 1.6rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–≥–æ –≤–∑—Ä—ã–≤–∞ (—Å–µ—Ä–¥–µ—á–∫–∏) */
        .confetti-heart {
            position: fixed;
            font-size: 2.5rem;
            pointer-events: none;
            z-index: 200;
            animation: heartBlast 2.5s ease-out forwards;
        }

        @keyframes heartBlast {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
            100% { transform: translate(var(--tw-x), var(--tw-y)) scale(1.8) rotate(var(--tw-r)); opacity: 0; }
        }
    </style>
</head>
<body>

    <!-- –≠–ö–†–ê–ù 1: –ö–û–ù–í–ï–†–¢ -->
    <div id="screen-env">
        <h2 style="color: #9f1239; letter-spacing: 0.5em; text-transform: uppercase; margin-bottom: 60px; font-weight: 300;">–î–ª—è –ê–ª–∏–Ω—ã</h2>
        <div class="envelope-wrapper" onclick="openEnvelope()">
            <div class="envelope" id="env">
                <div class="flap"></div>
                <div class="pocket"></div>
                <div class="seal">‚ù§Ô∏è</div>
            </div>
        </div>
        <p style="margin-top: 60px; color: #fda4af; font-weight: bold; letter-spacing: 3px; text-transform: uppercase; font-size: 0.8rem;">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å</p>
    </div>

    <!-- –≠–ö–†–ê–ù 2: –ü–ò–°–¨–ú–û -->
    <div id="screen-letter">
        <div class="paper">
            <div class="letter-content">–î–æ—Ä–æ–≥–∞—è –ê–ª–∏–Ω–∞!

–≠—Ç–æ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ —É—Ç—Ä–æ ‚Äî –ª–∏—à—å –∫—Ä–∞—Å–∏–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ç–æ–º, –∫–∞–∫ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å–∏–ª—å–Ω–æ —Ç—ã –¥–ª—è –º–µ–Ω—è –≤–∞–∂–Ω–∞. –ö–∞–∂–¥—ã–π –º–∏–≥ —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π –Ω–∞–ø–æ–ª–Ω–µ–Ω —Ç–µ–ø–ª–æ–º, —Å–≤–µ—Ç–æ–º –∏ —Ç–µ–º –æ—Å–æ–±–µ–Ω–Ω—ã–º, —Ç–∏—Ö–∏–º —Å—á–∞—Å—Ç—å–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –∏—â–µ—à—å –≤—Å—é –∂–∏–∑–Ω—å. 

–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ–π –º–∏—Ä –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ–º, —á—Ç–æ —Ç—ã –µ—Å—Ç—å, –∏ —è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –ø—Ä–æ–∂–∏—Ç—ã–π —Å —Ç–æ–±–æ–π. 

–°–æ–ª–Ω—Ü–µ, —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—ã –∑–Ω–∞–ª–∞: —Ç—ã ‚Äî —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —Å–æ–∫—Ä–æ–≤–∏—â–µ, –∫–æ—Ç–æ—Ä–æ–µ —è –∫–æ–≥–¥–∞-–ª–∏–±–æ –Ω–∞—Ö–æ–¥–∏–ª. –í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö —è –≤–∏–∂—É —Å–≤–æ—ë –±—É–¥—É—â–µ–µ, –ø–æ–ª–Ω–æ–µ —Ä–∞–¥–æ—Å—Ç–∏, –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –∏ —É—é—Ç–∞. –Ø –ª—é–±–ª—é —Ç–≤–æ–π —Å–º–µ—Ö, —Ç–≤–æ–∏ –æ–±—ä—è—Ç–∏—è –∏ —Ç—É –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –Ω–µ–∂–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –º–Ω–µ –¥–∞—Ä–∏—à—å.

–¢–≤–æ–π –ú–∞–∫—Å–∏–º.</div>
            <button class="btn-surprise" onclick="showFinal()">–û—Ç–∫—Ä—ã—Ç—å —Å—é—Ä–ø—Ä–∏–∑ ‚ú®</button>
        </div>
        <div style="height: 50px;"></div>
    </div>

    <!-- –≠–ö–†–ê–ù 3: –í–û–ü–†–û–° -->
    <div id="screen-final">
        <div style="font-size: 80px; margin-bottom: 20px; animation: pulse 2s infinite;">üíù</div>
        <h1 class="final-title">–ê–ª–∏–Ω–∞,</h1>
        <p style="color: #4c0519; font-size: 1.8rem; font-weight: 300;">—Å—Ç–∞–Ω–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</p>
        
        <div class="btn-container" id="btn-container">
            <button class="btn-yes" id="yes-btn" onclick="celebrate()">–î–ê!</button>
            <button id="no-btn" class="btn-no" onmouseover="moveNo()" onclick="moveNo()">–ù–ï–¢</button>
        </div>
    </div>

    <script>
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–¥–∞—é—â–µ–≥–æ –¥–µ–∫–æ—Ä–∞
        function createPetal() {
            const petal = document.createElement('div');
            petal.innerHTML = Math.random() > 0.5 ? 'üå∏' : '‚ù§Ô∏è';
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.fontSize = Math.random() * 20 + 10 + 'px';
            petal.style.animationDuration = Math.random() * 3 + 4 + 's';
            petal.style.opacity = Math.random() * 0.5 + 0.5;
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 6000);
        }
        setInterval(createPetal, 400);

        function openEnvelope() {
            document.getElementById('env').classList.add('open');
            setTimeout(() => {
                document.getElementById('screen-env').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('screen-env').style.display = 'none';
                    document.getElementById('screen-letter').style.display = 'flex';
                    window.scrollTo(0, 0);
                }, 600);
            }, 1000);
        }

        function showFinal() {
            document.getElementById('screen-letter').style.display = 'none';
            document.getElementById('screen-final').style.display = 'flex';
        }

        function moveNo() {
            const btn = document.getElementById('no-btn');
            btn.style.position = 'fixed';
            const x = Math.random() * (window.innerWidth - btn.offsetWidth);
            const y = Math.random() * (window.innerHeight - btn.offsetHeight);
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        function celebrate() {
            for (let i = 0; i < 40; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'confetti-heart';
                    heart.innerHTML = ['‚ù§Ô∏è', 'üíñ', 'üíù', 'üå∏', 'üåπ', '‚ú®', 'üíé'][Math.floor(Math.random() * 7)];
                    heart.style.left = '50%';
                    heart.style.top = '50%';
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 120 + 30;
                    heart.style.setProperty('--tw-x', (Math.cos(angle) * distance) + 'vw');
                    heart.style.setProperty('--tw-y', (Math.sin(angle) * distance) + 'vh');
                    heart.style.setProperty('--tw-r', Math.random() * 720 + 'deg');
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 2500);
                }, i * 20);
            }
        }
    </script>
</body>
</html>


